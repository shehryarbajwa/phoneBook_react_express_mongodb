{"version":3,"sources":["Components/Phone.js","Services/phone.js","Components/Error.js","Components/PhoneBook_Form.js","Components/PhoneBook_person.js","Services/login.js","Components/ShowLoginForm.js","Components/LoginForm.js","Components/Footer.js","Components/PhoneBook.js","index.js"],"names":["Phone","name","number","handleDelete","className","onClick","icon","faTrash","baseUrl","token","axios","get","then","response","data","phoneObject","a","async","config","headers","Authorization","post","request","id","delete","newToken","Notification","message","Form","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","setErrorMessage","toggleError","value","onChange","event","target","preventDefault","newPhone","length","map","person","alert","concat","phoneService","returnedPerson","catch","error","faUserPlus","Person","key","window","confirm","contact","find","contactToDelete","filter","setTimeout","credentials","ShowLoginForm","handleSubmit","handleUsernameChange","handlePasswordChange","username","password","onSubmit","type","Loginform","setUsername","setPassword","setUser","loginVisible","setLoginVisible","hideWhenVisible","display","showWhenVisible","handleLogin","loginService","user","localStorage","setItem","JSON","stringify","style","Footer","color","fontStyle","fontSize","Phonebook","errorMessage","useEffect","loggedUserJson","getItem","parse","LoginForm","removeItem","setPerson","ReactDOM","render","PhoneBook","document","getElementById"],"mappings":"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","file":"static/js/main.3e8fe4aa.chunk.js","sourcesContent":["import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faTrash } from '@fortawesome/free-solid-svg-icons'\n\nconst label = 'Remove'\nconst Phone = ({ name, number, handleDelete }) => {\n    return (\n        <li className=\"phone\">{name} no: {number} <button onClick={handleDelete}>{label} <FontAwesomeIcon icon={faTrash} /></button></li>\n    )\n}\n\nexport default Phone;","import axios from 'axios';\nconst baseUrl = '/api/persons'\n\nlet token = null\n\nconst setToken = newToken => {\n    token = `bearer ${newToken}`\n  }\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = async phoneObject => {\n    const config = {\n        headers: { Authorization: token },\n      }\n\n    const request = await axios.post(baseUrl, phoneObject, config)\n    return request.then(response => response.data)\n}\n\nconst contactDelete = (id, phoneObject) => {\n    const request = axios.delete(`${baseUrl}/${id}`, phoneObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, phoneObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, phoneObject)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, contactDelete, setToken }","import React from 'react';\n\nconst Notification = ({ message }) => {\n    if (message === null) {\n        return null;\n    }\n\n    return (\n        <div className=\"error\">\n            {message}\n        </div>\n    )\n}\n\nexport default Notification;","import React, { useState } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faUserPlus } from \"@fortawesome/free-solid-svg-icons\";\nimport phoneService from \"../Services/phone.js\";\n\nconst Form = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"enter a name\");\n  const [newNumber, setNewNumber] = useState(\"XXX-XXX-XXXX\");\n  const [errorMessage, setErrorMessage] = useState(\"some error happened...\");\n  const [error, toggleError] = useState(false);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const newPhone = {\n      name: newName,\n      id: persons.length + 1,\n      number: newNumber\n    };\n\n    const handleAlert = () => {\n      toggleError(true);\n      alert(`${newName} is already added to phonebook`);\n    };\n\n    const personExists = persons.map(person =>\n      person.name === newPhone.name\n        ? handleAlert()\n        : setPersons(persons.concat(newPhone))\n    );\n\n    phoneService\n      .create(newPhone)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson));\n      })\n      .catch(error => {\n        setErrorMessage(error);\n      });\n\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  const handleInput = event => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberInput = event => {\n    setNewNumber(event.target.value);\n  };\n  return (\n    <form>\n      <div className=\"form-name\">\n        <label>Name</label>\n        <br />\n        <input value={newName} onChange={handleInput} />\n      </div>\n      <div className=\"form-number\">\n        <label>Number</label>\n        <br />\n        <input value={newNumber} onChange={handleNumberInput} />\n      </div>\n      <div className=\"form-submit\">\n        <button onClick={handleSubmit}>\n          <FontAwesomeIcon icon={faUserPlus} />\n        </button>\n      </div>\n    </form>\n  );\n};\n\nexport default Form;\n","import React, { useState }from \"react\";\nimport phoneService from \"../Services/phone.js\";\nimport Phone from \"./Phone\";\n\nconst Person = ({persons, setPersons}) => {\n  const [errorMessage, setErrorMessage] = useState(\"some error happened...\");\n  const [error, toggleError] = useState(false);\n\n  const handleDelete = id => {\n    if (window.confirm(\"Are you sure you want to delete this person?\")) {\n      const url = `http://localhost:3001/persons/${id}`;\n      const contact = persons.find(person => person.id === id);\n      const contactToDelete = { ...contact };\n\n      phoneService\n        .contactDelete(id, contactToDelete)\n        .then(returnedPerson => {\n          setPersons(\n            persons.filter(person => person.id !== contactToDelete.id)\n          );\n          setErrorMessage(\n            `Person ${contactToDelete.name} was already removed from the phoneBook`\n          );\n          setTimeout(() => {\n            setErrorMessage(null);\n          }, 5000);\n        })\n        .catch(error => {\n          alert(`This contact with ${id} was already deleted`);\n        });\n    }\n  };\n\n  const person_rows = () =>\n    persons.map(person => {\n      return (\n        <Phone\n          key={person.id}\n          name={person.name}\n          number={person.number}\n          handleDelete={() => handleDelete(person.id)}\n        />\n      );\n    });\n\n  return <div>{person_rows()}</div>;\n};\n\nexport default Person;\n","import axios from 'axios'\nconst baseUrl = '/api/login/'\n\nconst login = async (credentials) => {\n    const response = await axios.post(baseUrl, credentials)\n    return response.data\n}\n\nexport default {login}","import React from 'react'\n\nconst ShowLoginForm = ({\n    handleSubmit,\n    handleUsernameChange,\n    handlePasswordChange,\n    username,\n    password\n}) => {\n    return (\n        <div>\n            <h2>Login</h2>\n            <form onSubmit={handleSubmit}>\n                <div>\n                    username\n                    <input value={username} onChange={handleUsernameChange} />\n                </div>\n                <div>password\n                    <input type=\"password\" value={password} onChange={handlePasswordChange} />\n                </div>\n                <button type=\"submit\">Login</button>\n            </form>\n        </div>\n    )\n}\n\nexport default ShowLoginForm;","import React, { useState } from \"react\";\nimport loginService from \"../Services/login.js\";\nimport phoneService from \"../Services/phone.js\";\nimport ShowLoginForm from \"../../src/Components/ShowLoginForm\"\n\nconst Loginform = () => {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [user, setUser] = useState(null);\n  const [errorMessage, setErrorMessage] = useState(\"some error happened...\");\n  const [error, toggleError] = useState(false);\n  const [loginVisible, setLoginVisible] = useState(false)\n\n\n\n  const hideWhenVisible = { display: loginVisible ? 'none' : '' }\n  const showWhenVisible = { display: loginVisible ? '' : 'none' }\n\n  const handleLogin = async event => {\n    event.preventDefault();\n\n    try {\n      const user = await loginService.login({\n        username,\n        password\n      });\n\n      window.localStorage.setItem(\"loggedPhonebookUser\", JSON.stringify(user));\n\n      phoneService.setToken(user.token);\n      setUser(user);\n      setUsername(\"\");\n      setPassword(\"\");\n    } catch (exception) {\n      setErrorMessage(\"wrong credentials\");\n      setTimeout(() => {\n        setErrorMessage(null);\n      }, 5000);\n    }\n  };\n\n  const showLoginForm = () => (\n    <div>\n      <div style={hideWhenVisible}>\n        <button onClick={() => setLoginVisible(true)}>Log in</button>\n      </div>\n      <div style={showWhenVisible}>\n        <ShowLoginForm\n        username={username}\n        password={password}\n        handleUsernameChange={({ target }) => setUsername(target.value)}\n        handlePasswordChange={({ target }) => setPassword(target.value)}\n        handleSubmit={handleLogin} />\n        <button onClick={() => setLoginVisible(false)}>cancel</button>\n      </div>\n    </div>\n  );\n\n  return <div>{showLoginForm()}</div>;\n};\n\nexport default Loginform;\n","import React from 'react'\n\nconst Footer = () => {\n  const footerStyle = {\n    color: 'green',\n    fontStyle: 'italic',\n    fontSize: 16\n  }\n\n  return (\n    <div style={footerStyle}>\n      <br />\n      <em>PhoneBook app by Shehryar Bajwa</em>\n    </div>\n  )\n}\n\nexport default Footer ","import React, { useState, useEffect } from \"react\";\nimport Phone from \"./Phone\";\nimport phoneService from \"../Services/phone.js\";\nimport Notification from \"./Error\";\nimport Form from \"./PhoneBook_Form\";\nimport Person from \"./PhoneBook_person\";\nimport LoginForm from \"./LoginForm\";\nimport loginService from \"../Services/phone.js\"\nimport Footer from \"./Footer\"\n\nconst Phonebook = () => {\n  const [persons, setPersons] = useState([]);\n  const [errorMessage, setErrorMessage] = useState(\"some error happened...\");\n  const [error, toggleError] = useState(false);\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    phoneService.getAll().then(person => {\n      setPersons(person);\n    });\n    toggleError(false);\n  }, []);\n\n  useEffect(() => {\n    const loggedUserJson = window.localStorage.getItem('loggedPhonebookUser')\n    if(loggedUserJson){\n      const user = JSON.parse(loggedUserJson)\n      setUser(user);\n      loginService.setToken(user.token)\n    }\n  }, []);\n\n  const handleLogout = () => {\n    setUser(false)\n    window.localStorage.removeItem('loggedPhonebookUser')\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      {error ? <Notification message={errorMessage} /> : null}\n      {user === null ? (\n        <LoginForm />\n      ) : (\n        <div>\n          <p>{user.name} logged in</p>\n          <button onClick={handleLogout}>logout</button>\n          <Form />\n          <h2>People</h2>\n          <Person persons={persons} setPerson={setPersons} />\n        </div>\n      )}\n      <Footer />\n    </div>\n  );\n};\n\nexport default Phonebook;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport PhoneBook from './Components/PhoneBook'\n\nReactDOM.render(<PhoneBook />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}