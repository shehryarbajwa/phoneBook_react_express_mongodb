(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{13:function(e,t,n){e.exports=n(38)},18:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(11),r=n.n(o),u=(n(18),n(12)),l=n(2),i=function(e){var t=e.name,n=e.number,a=e.handleDelete;return c.a.createElement("li",{className:"phone"},t," no: ",n," ",c.a.createElement("button",{onClick:a},"Delete contact"))},m=n(3),d=n.n(m),s="/api/persons",f=function(){return d.a.get(s).then((function(e){return e.data}))},h=function(e){return d.a.post(s,e).then((function(e){return e.data}))},b=function(e,t){return d.a.delete("".concat(s,"/").concat(e),t).then((function(e){return e.data}))},p=function(e){var t=e.message;return null===t?null:c.a.createElement("div",{className:"error"},t)},v=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],o=t[1],r=Object(a.useState)("enter a name"),m=Object(l.a)(r,2),d=m[0],s=m[1],v=Object(a.useState)("XXX-XXX-XXXX"),E=Object(l.a)(v,2),j=E[0],O=E[1],k=Object(a.useState)(!1),X=Object(l.a)(k,2),g=(X[0],X[1],Object(a.useState)("some error happened...")),w=Object(l.a)(g,2),y=w[0],N=w[1];Object(a.useEffect)((function(){f().then((function(e){o(e)}))}),[]);return c.a.createElement("div",null,c.a.createElement("h2",null,"Phonebook"),c.a.createElement(p,{message:y}),c.a.createElement("form",null,c.a.createElement("div",null,"Name: ",c.a.createElement("input",{value:d,onChange:function(e){s(e.target.value)}})),c.a.createElement("div",null,"Number: ",c.a.createElement("input",{value:j,onChange:function(e){O(e.target.value)}})),c.a.createElement("div",null,c.a.createElement("button",{onClick:function(e){e.preventDefault();var t={name:d,id:n.length+1,number:j};n.map((function(e){return e.name===t.name?void alert("".concat(d," is already added to phonebook")):o(n.concat(t))}));h(t).then((function(e){o(n.concat(e))})),s(""),O("")}},"Add Name"))),c.a.createElement("h2",null,"People"),c.a.createElement("div",null,n.map((function(e){return c.a.createElement(i,{key:e.id,name:e.name,number:e.number,handleDelete:function(){return function(e){if(window.confirm("Are you sure you want to delete this person?")){"http://localhost:3001/persons/".concat(e);var t=n.find((function(t){return t.id===e})),a=Object(u.a)({},t);b(e,a).then((function(e){o(n.filter((function(e){return e.id!==a.id}))),N("Note ".concat(a.name," was already removed from the phoneBook")),setTimeout((function(){N(null)}),5e3)})).catch((function(t){alert("This contact with ".concat(e," was already deleted"))}))}}(e.id)}})}))))};r.a.render(c.a.createElement(v,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.97ef8c4b.chunk.js.map