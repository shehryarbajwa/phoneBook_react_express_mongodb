{"version":3,"sources":["Components/Phone.js","Services/phone.js","Components/Error.js","Components/PhoneBook_Form.js","Components/PhoneBook_person.js","Services/login.js","Components/loginForm.js","Components/Footer.js","Components/PhoneBook.js","index.js"],"names":["Phone","name","number","handleDelete","className","onClick","icon","faTrash","baseUrl","token","axios","get","then","response","data","phoneObject","config","headers","Authroization","post","id","delete","newToken","Notification","message","Form","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","setErrorMessage","toggleError","value","onChange","event","target","preventDefault","newPhone","length","map","person","alert","concat","phoneService","returnedPerson","catch","error","faUserPlus","Person","key","window","confirm","contact","find","contactToDelete","filter","setTimeout","login","credentials","a","async","Loginform","username","setUsername","password","setPassword","setUser","handleLogin","loginService","user","localStorage","setItem","JSON","stringify","setToken","console","log","onSubmit","type","Footer","style","color","fontStyle","fontSize","Phonebook","errorMessage","useEffect","loggedUserJson","getItem","parse","removeItem","ReactDOM","render","PhoneBook","document","getElementById"],"mappings":"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","file":"static/js/main.3ff768f8.chunk.js","sourcesContent":["import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faTrash } from '@fortawesome/free-solid-svg-icons'\n\nconst label = 'Remove'\nconst Phone = ({ name, number, handleDelete }) => {\n    return (\n        <li className=\"phone\">{name} no: {number} <button onClick={handleDelete}>{label} <FontAwesomeIcon icon={faTrash} /></button></li>\n    )\n}\n\nexport default Phone;","import axios from 'axios';\nconst baseUrl = '/api/persons'\n\nlet token = null\n\nconst setToken = (newToken) => {\n    token = `Bearer ${newToken}`\n}\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = (phoneObject) => {\n    const config = {\n        headers: {Authroization: token}\n    }\n    const request = axios.post(baseUrl, phoneObject, config)\n    return request.then(response => response.data)\n}\n\nconst noteDelete = (id, phoneObject) => {\n    const request = axios.delete(`${baseUrl}/${id}`, phoneObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, phoneObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, phoneObject)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, noteDelete, setToken }","import React from 'react';\n\nconst Notification = ({ message }) => {\n    if (message === null) {\n        return null;\n    }\n\n    return (\n        <div className=\"error\">\n            {message}\n        </div>\n    )\n}\n\nexport default Notification;","import React, { useState } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faUserPlus } from \"@fortawesome/free-solid-svg-icons\";\nimport phoneService from \"../Services/phone.js\";\n\nconst Form = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"enter a name\");\n  const [newNumber, setNewNumber] = useState(\"XXX-XXX-XXXX\");\n  const [errorMessage, setErrorMessage] = useState(\"some error happened...\");\n  const [error, toggleError] = useState(false);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const newPhone = {\n      name: newName,\n      id: persons.length + 1,\n      number: newNumber\n    };\n\n    const handleAlert = () => {\n      toggleError(true);\n      alert(`${newName} is already added to phonebook`);\n    };\n\n    const personExists = persons.map(person =>\n      person.name === newPhone.name\n        ? handleAlert()\n        : setPersons(persons.concat(newPhone))\n    );\n\n    phoneService\n      .create(newPhone)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson));\n      })\n      .catch(error => {\n        setErrorMessage(error.response.data);\n      });\n\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  const handleInput = event => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberInput = event => {\n    setNewNumber(event.target.value);\n  };\n  return (\n    <form>\n      <div className=\"form-name\">\n        <label>Name</label>\n        <br />\n        <input value={newName} onChange={handleInput} />\n      </div>\n      <div className=\"form-number\">\n        <label>Number</label>\n        <br />\n        <input value={newNumber} onChange={handleNumberInput} />\n      </div>\n      <div className=\"form-submit\">\n        <button onClick={handleSubmit}>\n          <FontAwesomeIcon icon={faUserPlus} />\n        </button>\n      </div>\n    </form>\n  );\n};\n\nexport default Form;\n","import React, { useState }from \"react\";\nimport phoneService from \"../Services/phone.js\";\nimport Phone from \"./Phone\";\n\nconst Person = () => {\n  const [persons, setPersons] = useState([]);\n  const [errorMessage, setErrorMessage] = useState(\"some error happened...\");\n  const [error, toggleError] = useState(false);\n\n  const handleDelete = id => {\n    if (window.confirm(\"Are you sure you want to delete this person?\")) {\n      const url = `http://localhost:3001/persons/${id}`;\n      const contact = persons.find(person => person.id === id);\n      const contactToDelete = { ...contact };\n\n      phoneService\n        .noteDelete(id, contactToDelete)\n        .then(returnedPerson => {\n          setPersons(\n            persons.filter(person => person.id !== contactToDelete.id)\n          );\n          setErrorMessage(\n            `Note ${contactToDelete.name} was already removed from the phoneBook`\n          );\n          setTimeout(() => {\n            setErrorMessage(null);\n          }, 5000);\n        })\n        .catch(error => {\n          alert(`This contact with ${id} was already deleted`);\n        });\n    }\n  };\n\n  const person_rows = () =>\n    persons.map(person => {\n      return (\n        <Phone\n          key={person.id}\n          name={person.name}\n          number={person.number}\n          handleDelete={() => handleDelete(person.id)}\n        />\n      );\n    });\n\n  return <div>{person_rows()}</div>;\n};\n\nexport default Person;\n","import axios from 'axios'\nconst baseUrl = '/api/login'\n\nconst login = async (credentials) => {\n    const response = await axios.post(baseUrl, credentials)\n    return response.data\n}\n\nexport default {login}","import React, { useState } from \"react\";\nimport loginService from \"../Services/login.js\";\n\nconst Loginform = () => {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [user, setUser] = useState(null);\n  const [errorMessage, setErrorMessage] = useState(\"some error happened...\");\n  const [error, toggleError] = useState(false);\n\n  const handleLogin = async event => {\n    event.preventDefault();\n\n    try {\n      const user = await loginService.login({\n        username,\n        password\n      });\n\n      window.localStorage.setItem(\"loggedPhonebookUser\", JSON.stringify(user));\n\n      loginService.setToken(user.token);\n      setUser(user);\n      setUsername();\n      setPassword(\"\");\n    } catch (exception) {\n      setErrorMessage(\"wrong credentials\");\n      setTimeout(() => {\n        setErrorMessage(null);\n      }, 5000);\n    }\n\n    console.log(\"logging in with\", username, password);\n  };\n\n  const showLoginForm = () => (\n    <form onSubmit={handleLogin}>\n      <div>\n        username\n        <input\n          type=\"text\"\n          value={username}\n          name=\"Username\"\n          onChange={({ target }) => setUsername(target.value)}\n        />\n      </div>\n      <div>\n        password\n        <input\n          type=\"password\"\n          value={password}\n          name=\"Password\"\n          onChange={({ target }) => setPassword(target.value)}\n        />\n      </div>\n      <button type=\"submit\">login</button>\n    </form>\n  );\n\n  return <div>{showLoginForm()}</div>;\n};\n\nexport default Loginform;\n","import React from 'react'\n\nconst Footer = () => {\n  const footerStyle = {\n    color: 'green',\n    fontStyle: 'italic',\n    fontSize: 16\n  }\n\n  return (\n    <div style={footerStyle}>\n      <br />\n      <em>PhoneBook app by Shehryar Bajwa</em>\n    </div>\n  )\n}\n\nexport default Footer ","import React, { useState, useEffect } from \"react\";\nimport Phone from \"./Phone\";\nimport phoneService from \"../Services/phone.js\";\nimport Notification from \"./Error\";\nimport Form from \"./PhoneBook_Form\";\nimport Person from \"./PhoneBook_person\";\nimport Loginform from \"../Components/loginForm\";\nimport loginService from \"../Services/phone.js\"\nimport Footer from \"./Footer\"\n\nconst Phonebook = () => {\n  const [persons, setPersons] = useState([]);\n  const [errorMessage, setErrorMessage] = useState(\"some error happened...\");\n  const [error, toggleError] = useState(false);\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    phoneService.getAll().then(person => {\n      setPersons(person);\n    });\n    toggleError(false);\n  }, []);\n\n  useEffect(() => {\n    const loggedUserJson = window.localStorage.getItem('loggedNoteappUser')\n    if(loggedUserJson){\n      const user = JSON.parse(loggedUserJson)\n      setUser(user);\n      loginService.setToken(user)\n    }\n  }, []);\n\n  const handleLogout = () => {\n    setUser(false)\n    window.localStorage.removeItem('loggedNoteappUser')\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      {error ? <Notification message={errorMessage} /> : null}\n      {user === null ? (\n        <Loginform />\n      ) : (\n        <div>\n          <p>{user.name} logged in</p>\n          <button onClick={handleLogout}>logout</button>\n          <Form />\n        </div>\n      )}\n      <h2>People</h2>\n      <Person />\n      <Footer />\n    </div>\n  );\n};\n\nexport default Phonebook;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport PhoneBook from './Components/PhoneBook'\n\nReactDOM.render(<PhoneBook />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}