{"version":3,"sources":["Components/Phone.js","Services/phone.js","Components/Error.js","Components/PhoneBook.js","index.js"],"names":["Phone","name","number","handleDelete","className","onClick","baseUrl","axios","get","then","response","data","phoneObject","post","id","delete","Notification","message","Phonebook","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","errorMessage","setErrorMessage","useEffect","phoneService","person","value","onChange","event","target","preventDefault","newPhone","length","map","alert","concat","returnedPerson","key","window","confirm","contact","find","contactToDelete","filter","setTimeout","catch","error","ReactDOM","render","PhoneBook","document","getElementById"],"mappings":"mOASeA,EAND,SAAC,GAAoC,IAAlCC,EAAiC,EAAjCA,KAAMC,EAA2B,EAA3BA,OAAQC,EAAmB,EAAnBA,aAC3B,OACI,wBAAIC,UAAU,SAASH,EAAvB,QAAkCC,EAAlC,IAA0C,4BAAQG,QAASF,GAHrD,oB,gBCDRG,EAAU,eAsBD,EApBA,WAEX,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAkB9B,EAfA,SAACC,GAEZ,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa9B,EAVI,SAACG,EAAIF,GAEpB,OADgBL,IAAMQ,OAAN,UAAgBT,EAAhB,YAA2BQ,GAAMF,GAClCH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCD9BK,EAZM,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACpB,OAAgB,OAAZA,EACO,KAIP,yBAAKb,UAAU,SACVa,ICwGEC,EA1GG,WAAO,IAAD,EACQC,mBAAS,IADjB,mBACfC,EADe,KACNC,EADM,OAEQF,mBAAS,gBAFjB,mBAEfG,EAFe,KAENC,EAFM,OAGYJ,mBAAS,gBAHrB,mBAGfK,EAHe,KAGJC,EAHI,OAIcN,oBAAS,GAJvB,gCAKkBA,mBAAS,2BAL3B,mBAKfO,EALe,KAKDC,EALC,KAOtBC,qBAAU,WACRC,IAAsBpB,MAAK,SAAAqB,GACzBT,EAAWS,QAEZ,IAyEH,OACE,6BACE,yCACA,kBAAC,EAAD,CAAcb,QAASS,IACvB,8BACE,yBAAKtB,UAAU,aAAf,SACQ,2BAAO2B,MAAOT,EAASU,SAdjB,SAAAC,GAClBV,EAAWU,EAAMC,OAAOH,WAepB,yBAAK3B,UAAU,eAAf,WACU,2BAAO2B,MAAOP,EAAWQ,SAbf,SAAAC,GACxBR,EAAaQ,EAAMC,OAAOH,WActB,yBAAK3B,UAAU,eACb,4BAAQC,QAnFK,SAAA4B,GACnBA,EAAME,iBACN,IAAMC,EAAW,CACfnC,KAAMqB,EACNR,GAAIM,EAAQiB,OAAS,EACrBnC,OAAQsB,GAOWJ,EAAQkB,KAAI,SAAAR,GAAM,OACrCA,EAAO7B,OAASmC,EAASnC,UAJzBsC,MAAM,GAAD,OAAIjB,EAAJ,mCAMDD,EAAWD,EAAQoB,OAAOJ,OAGhCP,EAAoBO,GAAU3B,MAAK,SAAAgC,GACjCpB,EAAWD,EAAQoB,OAAOC,OAG5BlB,EAAW,IACXE,EAAa,MA4DP,cAGJ,sCACA,6BAnCFL,EAAQkB,KAAI,SAAAR,GACV,OACE,kBAAC,EAAD,CACEY,IAAKZ,EAAOhB,GACZb,KAAM6B,EAAO7B,KACbC,OAAQ4B,EAAO5B,OACfC,aAAc,kBAhCD,SAAAW,GACnB,GAAI6B,OAAOC,QAAQ,gDAAiD,CACzD,wCAAoC9B,GAA7C,IACM+B,EAAUzB,EAAQ0B,MAAK,SAAAhB,GAAM,OAAIA,EAAOhB,KAAOA,KAC/CiC,EAAe,eAAQF,GAE7BhB,EACcf,EAAIiC,GACftC,MAAK,SAAAgC,GACJpB,EACED,EAAQ4B,QAAO,SAAAlB,GAAM,OAAIA,EAAOhB,KAAOiC,EAAgBjC,OAEzDa,EAAgB,QAAD,OACLoB,EAAgB9C,KADX,4CAGfgD,YAAW,WACTtB,EAAgB,QACf,QAEJuB,OAAM,SAAAC,GACLZ,MAAM,qBAAD,OAAsBzB,EAAtB,6BAYeX,CAAa2B,EAAOhB,aCzElDsC,IAASC,OAAO,kBAACC,EAAD,MAAeC,SAASC,eAAe,W","file":"static/js/main.e288510a.chunk.js","sourcesContent":["import React from 'react';\n\nconst label = 'Delete contact'\nconst Phone = ({ name, number, handleDelete }) => {\n    return (\n        <li className=\"phone\">{name} no: {number} <button onClick={handleDelete}>{label}</button></li>\n    )\n}\n\nexport default Phone;","import axios from 'axios';\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = (phoneObject) => {\n    const request = axios.post(baseUrl, phoneObject)\n    return request.then(response => response.data)\n}\n\nconst noteDelete = (id, phoneObject) => {\n    const request = axios.delete(`${baseUrl}/${id}`, phoneObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, phoneObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, phoneObject)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, noteDelete }","import React from 'react';\n\nconst Notification = ({ message }) => {\n    if (message === null) {\n        return null;\n    }\n\n    return (\n        <div className=\"error\">\n            {message}\n        </div>\n    )\n}\n\nexport default Notification;","import React, { useState, useEffect } from \"react\";\nimport Phone from \"./Phone\";\nimport phoneService from '../Services/phone.js'\nimport Notification from './Error'\n\n\n\nconst Phonebook = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"enter a name\");\n  const [newNumber, setNewNumber] = useState(\"XXX-XXX-XXXX\");\n  const [nameExists, setNameExists] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"some error happened...\");\n\n  useEffect(() => {\n    phoneService.getAll().then(person => {\n      setPersons(person);\n    });\n  }, []);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const newPhone = {\n      name: newName,\n      id: persons.length + 1,\n      number: newNumber\n    };\n\n    const handleAlert = () => {\n      alert(`${newName} is already added to phonebook`);\n    };\n\n    const personExists = persons.map(person =>\n      person.name === newPhone.name\n        ? handleAlert()\n        : setPersons(persons.concat(newPhone))\n    );\n\n    phoneService.create(newPhone).then(returnedPerson => {\n      setPersons(persons.concat(returnedPerson));\n    });\n\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  const handleDelete = id => {\n    if (window.confirm(\"Are you sure you want to delete this person?\")) {\n      const url = `http://localhost:3001/persons/${id}`;\n      const contact = persons.find(person => person.id === id);\n      const contactToDelete = { ...contact };\n\n      phoneService\n        .noteDelete(id, contactToDelete)\n        .then(returnedPerson => {\n          setPersons(\n            persons.filter(person => person.id !== contactToDelete.id)\n          );\n          setErrorMessage(\n            `Note ${contactToDelete.name} was already removed from the phoneBook`\n          );\n          setTimeout(() => {\n            setErrorMessage(null);\n          }, 5000);\n        })\n        .catch(error => {\n          alert(`This contact with ${id} was already deleted`);\n        });\n    }\n  };\n\n  const person_rows = () =>\n    persons.map(person => {\n      return (\n        <Phone\n          key={person.id}\n          name={person.name}\n          number={person.number}\n          handleDelete={() => handleDelete(person.id)}\n        />\n      );\n    });\n\n  const handleInput = event => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberInput = event => {\n    setNewNumber(event.target.value);\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage} />\n      <form>\n        <div className=\"form-name\">\n          Name: <input value={newName} onChange={handleInput} />\n        </div>\n        <div className=\"forn-number\">\n          Number: <input value={newNumber} onChange={handleNumberInput} />\n        </div>\n        <div className=\"form-submit\">\n          <button onClick={handleSubmit}>Add Name</button>\n        </div>\n      </form>\n      <h2>People</h2>\n      <div>{person_rows()}</div>\n    </div>\n  );\n};\n\n\nexport default Phonebook;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport PhoneBook from './Components/PhoneBook'\n\nReactDOM.render(<PhoneBook />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}